<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, Starfly" />










<meta property="og:type" content="website">
<meta property="og:title" content="Starfly&#39;s blog">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Starfly&#39;s blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Starfly">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/"/>





  <title>Starfly's blog</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Starfly's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/06/CS61B-Industrial-Strength-Syntax/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Starfly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Starfly's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/06/CS61B-Industrial-Strength-Syntax/" itemprop="url">CS61B-Industrial Strength Syntax</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-06T01:32:06+08:00">
                2020-03-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="automatic-conversions"> Automatic Conversions</span><a href="#automatic-conversions" class="header-anchor"> </a></h2>
<h2><span id="autoboxing"> Autoboxing</span><a href="#autoboxing" class="header-anchor"> </a></h2>
<h4><span id="primitives-cannot-be-used-as-actual-type-arguments"> Primitives Cannot Be Used as Actual Type Arguments</span><a href="#primitives-cannot-be-used-as-actual-type-arguments" class="header-anchor"> </a></h4>
<p>We cannot use primitive type as actual type arguments.</p>
<ul>
<li>Code below causes a compile time error.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;<span class="keyword">int</span>&gt; L = <span class="keyword">new</span> ArrayList&lt;<span class="keyword">int</span>&gt;();</span><br></pre></td></tr></table></figure>
<h4><span id="reference-types"> Reference Types</span><a href="#reference-types" class="header-anchor"> </a></h4>
<p>Reminder: Java has 8 primitive types. All other types are reference types.</p>
<p>For each primitive type, there is a corresponding reference type called a wrapper class.</p>
<ul>
<li>For example, boolean’s wrapper class is Boolean.</li>
</ul>
<h4><span id="reference-types-as-actual-type-arguments"> Reference Types as Actual Type Arguments</span><a href="#reference-types-as-actual-type-arguments" class="header-anchor"> </a></h4>
<p>Solution: Use wrapper type as actual type parameter instead of primitive type.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;Integer&gt; L = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">L.add(<span class="keyword">new</span> Integer(<span class="number">5</span>));</span><br><span class="line">L.add(<span class="keyword">new</span> Integer(<span class="number">6</span>));</span><br><span class="line"><span class="keyword">int</span> first = L.get(<span class="number">0</span>).valueOf();</span><br></pre></td></tr></table></figure>
<h4><span id="autoboxing"> Autoboxing</span><a href="#autoboxing" class="header-anchor"> </a></h4>
<p>Autoboxing (auto-unboxing): Implicit conversions between wrapper/primitives.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;Integer&gt; L = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">L.add(<span class="number">5</span>);</span><br><span class="line">L.add(<span class="number">6</span>);</span><br><span class="line"><span class="keyword">int</span> first = L.get(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>Code above works even though we’re passing an int into an Integer parameter, and assigning a return value of type Integer to an int.</p>
<p>Wrapper types and primitives can be used almost interchangeably.</p>
<ul>
<li>If Java code expects a wrapper type and gets a primitive, it is autoboxed.</li>
<li>If the code expects a primitive and gets a wrapper, it is unboxed.</li>
</ul>
<p>Some notes:</p>
<ul>
<li>Arrays are never autoboxed/unboxed, e.g. an Integer[] cannot be used in place of int[] (or vice versa).</li>
<li>Autoboxing / unboxing incurs a measurable perfomance impact. That is, code that relies on autoboxing and unboxing will be slower than code that eschews such automatic conversions.</li>
<li>Wrapper types use MUCH more memory than primitive types.</li>
</ul>
<p>Some exercise:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bleepblorp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Integer x = <span class="keyword">new</span> Integer(<span class="number">5</span>);</span><br><span class="line">    System.out.println(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Assuming:</p>
<ul>
<li>Addresses are 64 bits.</li>
<li>ints are 32 bits.</li>
<li>All Java objects take 64 bits + their fields.</li>
</ul>
<p>How much total memory is used by bleepblorp to store its local variables?</p>
<p>64 + 64 + 32 = 160 bits</p>
<h3><span id="primitive-widening"> Primitive Widening</span><a href="#primitive-widening" class="header-anchor"> </a></h3>
<p>A similar thing happens when moving from a primitive type with a narrower range to a wider range.</p>
<ul>
<li>In this case, we say the value is “widened”.</li>
<li>Code below is fine since double is wider than int.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">blahDouble</span><span class="params">(<span class="keyword">double</span> x)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"double"</span> + x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">20</span>;</span><br><span class="line">blahDouble(x);</span><br></pre></td></tr></table></figure>
<p>To move from a wider type to a narrower type, must use casting:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">blahInt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"int:"</span> + x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> x = <span class="number">20</span>;</span><br><span class="line">blahInt((<span class="keyword">int</span>) x);</span><br></pre></td></tr></table></figure>
<h3><span id="immutability"> Immutability</span><a href="#immutability" class="header-anchor"> </a></h3>
<p>An immutable data type is one for which an instance cannot change in any obsevable way after instantiation.</p>
<p>Examples:</p>
<ul>
<li>Mutable: ArrayDeque, Planet.</li>
<li>Immutable: Integer, String, Date.</li>
</ul>
<p>The <strong>final</strong> keyword will help the compiler ensure immutability.</p>
<ul>
<li>final variable means you will assign a value once (either in constructor of class or in initializer).</li>
<li>Not necessary to have final to be immutable (e.g. Dog with private variables).</li>
</ul>
<p><strong>Immutability</strong><br>
Advantage: Less to think about: Avoid bugs and makes debugging easier.</p>
<ul>
<li>Analogy: Immutable classes have some buttons you can press / windows you can look inside. Results are ALWAYS the same, no matter what.</li>
</ul>
<p>Disadvantage: Must create a new object anytime anything changes.</p>
<p>Warning: Declaring a reference as <strong>final</strong> does not make object immutable.</p>
<ul>
<li>Example:</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> ArrayDeque&lt;String&gt; d = <span class="keyword">new</span> ArrayDeque&lt;String&gt;();</span><br></pre></td></tr></table></figure>
<ul>
<li>The d variable can never change, but the referenced deque can.</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/05/CS61B-Midterm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Starfly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Starfly's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/05/CS61B-Midterm/" itemprop="url">CS61B-Midterm</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-05T01:15:29+08:00">
                2020-03-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithms</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="1-static"> 1. Static</span><a href="#1-static" class="header-anchor"> </a></h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> String <span class="keyword">void</span> <span class="title">fillMany</span><span class="params">(String[] d)</span> </span>&#123;</span><br><span class="line">    System.arraycopy(Data.rs, <span class="number">0</span>, d, <span class="number">0</span>, d.length);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fillOne</span><span class="params">(String d)</span> </span>&#123; d = Data.rs[<span class="number">0</span>]; &#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String a = <span class="string">"alice"</span>;</span><br><span class="line">    String b = <span class="string">"bob"</span>;</span><br><span class="line">    String c = <span class="string">"carol"</span>;</span><br><span class="line">    String d = <span class="string">"dan"</span>;</span><br><span class="line">    String[][] twod = &#123;&#123;a, b&#125;, &#123;c, d&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    Data.rs = <span class="keyword">new</span> String[]&#123;<span class="string">"fritz"</span>, <span class="string">"gritz"</span>&#125;;</span><br><span class="line">    String[] X = twod[<span class="number">0</span>];</span><br><span class="line">    printStringArray(X);       <span class="comment">// alice bob</span></span><br><span class="line">    fillOne(X[<span class="number">0</span>]);</span><br><span class="line">    printStringArray(X);       <span class="comment">// alice bob</span></span><br><span class="line">    fillMany(X);</span><br><span class="line">    printStringArray(X);       <span class="comment">// fritz gritz</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/03/05/CS61B-Midterm/p1.jpg" alt><br>
Notice that in function fillOne, we just assign the address of <em>fritz</em> to variable d, we don’t change anything in X and twod.</p>
<h2><span id="3-keygate"> 3. KeyGate</span><a href="#3-keygate" class="header-anchor"> </a></h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fingerprint</span> </span>&#123;...&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Key</span> </span>&#123;...&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> class SkeletonKey <span class="title">extends</span><span class="params">(Key)</span> </span>&#123;...&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StandardBox</span> </span>&#123; <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">unlock</span><span class="params">(Key k)</span> </span>&#123;...&#125; &#125; <span class="comment">// UK</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BioBox</span> <span class="keyword">extends</span> <span class="title">StandardBox</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">unlock</span><span class="params">(SteletonKey sk)</span> </span>&#123;...&#125;    <span class="comment">// USK</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">unlock</span><span class="params">(Fingerprint f)</span> </span>&#123;...&#125;     <span class="comment">// UF</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">doStuff</span><span class="params">(Key k, SkeletonKey sk, Fingerprint f)</span> </span>&#123;</span><br><span class="line">    StandardBox sb = <span class="keyword">new</span> StandardBox();</span><br><span class="line">    StandardBox sbbb = <span class="keyword">new</span> BioBox();</span><br><span class="line">    BioBox bb = <span class="keyword">new</span> BioBox();</span><br><span class="line"></span><br><span class="line">    sb.unlock(k);               <span class="comment">// UK      </span></span><br><span class="line">    sbbb.unlock(k);             <span class="comment">// UK </span></span><br><span class="line">    bb.unlock(k);               <span class="comment">// UK</span></span><br><span class="line"></span><br><span class="line">    sb.unlock(sk);              <span class="comment">// UK</span></span><br><span class="line">    sbbb.unlock(sk);            <span class="comment">// UK</span></span><br><span class="line">    bb.unlock(sk);              <span class="comment">// USK</span></span><br><span class="line"></span><br><span class="line">    sb.unlock(f);               <span class="comment">// Compile Error</span></span><br><span class="line">    sbbb.unlock(f);             <span class="comment">// Compile Error</span></span><br><span class="line">    bb.unlock(f);               <span class="comment">// UF</span></span><br><span class="line"></span><br><span class="line">    bb = (BioBox) sbbb;         </span><br><span class="line">    ((StandardBox) bb).unlock(sk);    <span class="comment">// UK</span></span><br><span class="line">    ((StandardBox) sbbb).unlock(sk);  <span class="comment">// UK</span></span><br><span class="line">    ((BioBox) sb).unlock(sk);         <span class="comment">// Runtime Error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Actually, no overriding in this problem. They are all overloading.</li>
<li>When compiling, compiler will look at the type of the arguments given. And choose the methods that suitable(or compatible) for the arguments. Here, in the fifth question, sbbb has the type <em>StandardBox</em>, and <em>SkeletonKey</em> is-a <em>Key</em>, so we choose the <em>UK</em> methond.</li>
<li>In the last question, <em>sb</em>’s dynamic type is <em>StandardBox</em>, so we get a runtime error.</li>
</ul>
<h2><span id="4-sans"> 4. Sans</span><a href="#4-sans" class="header-anchor"> </a></h2>
<p>(b)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/** Non-destructively creates a copy of x that contains no y. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IntList <span class="title">ilsans</span><span class="params">(IntList x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (x.first == y) &#123;</span><br><span class="line">        <span class="keyword">return</span> ilsans(x.rest, y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> IntList(x.first, ilsans(x.rest, y));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>©</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Destructively mutates first and/or rest of x that contains no y. You may not use new. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IntList <span class="title">dilsans</span><span class="params">(IntList x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    x.rest = dilsans(x.rest, y);</span><br><span class="line">    <span class="keyword">if</span> (x.first == y) &#123;</span><br><span class="line">        <span class="keyword">return</span> x.rest; <span class="comment">// We don't really care about x, just need recursive result.</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;         <span class="comment">// We do care about x because we need to return x. But also need to recurse.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="5-a-needle-in-arraystack-purge"> 5. A Needle in ArrayStack: purge</span><a href="#5-a-needle-in-arraystack-purge" class="header-anchor"> </a></h2>
<p>(b)<br>
Suppose we want to add a <strong>default method</strong> purge(Item x) <strong>to the Stack interface</strong> that eliminates all instances of x from the Stack, but leaves the stack otherwise unchanged.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Stack</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(Item x)</span></span>;</span><br><span class="line">    <span class="function">Item <span class="title">pop</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">purge</span><span class="params">(Item x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (size() == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Item top = pop();</span><br><span class="line">        purge(x);</span><br><span class="line">        <span class="keyword">if</span> (!x.equals(top)) &#123;</span><br><span class="line">            push(top);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/03/CS61B-Abstract-Data-Types/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Starfly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Starfly's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/03/CS61B-Abstract-Data-Types/" itemprop="url">CS61B-Abstract Data Types</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-03T02:46:58+08:00">
                2020-03-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="abstract-data-types"> Abstract Data Types</span><a href="#abstract-data-types" class="header-anchor"> </a></h2>
<p>An <strong>Abstract Data Types(ADT)</strong> is defined only by its operations, not by its implementation.</p>
<p>Deque ADT:</p>
<ul>
<li>addFirst(Item x);</li>
<li>addLast(Item );</li>
<li>boolean isEmpty();</li>
<li>int size();</li>
<li>printDeque();</li>
<li>Item removeFirst();</li>
<li>Item removeLast();</li>
<li>Item get(int index);</li>
</ul>
<p>Stack ADT:<br>
The Stack ADT supports the following operations:</p>
<ul>
<li>push(int x): Puts x on top of the stack.</li>
<li>int pop(): Removes and returns the top item from the stack.</li>
</ul>
<p>Linked List is better!</p>
<p>GrabBag ADT:</p>
<ul>
<li>insert(int x): Inserts x into the grab bag.</li>
<li>int remove(): Removes a random item from the bag.</li>
<li>int sample(): Samples a random item from the bag. (without removing!)</li>
<li>int size(): Number of items in the bag.</li>
</ul>
<p>Array is better!</p>
<h3><span id="collections"> Collections</span><a href="#collections" class="header-anchor"> </a></h3>
<p>Among the most important interfaces in the Java.util library are those that extend the Collection interface (btw interfaces can extend other interfaces).</p>
<ul>
<li>Lists of things.</li>
<li>Sets of things.</li>
<li>Mappings between items</li>
</ul>
<h3><span id="java-libraries"> Java Libraries</span><a href="#java-libraries" class="header-anchor"> </a></h3>
<p>The built-in Java.util package provides a number of useful:</p>
<ul>
<li>Interfaces: ADTs(lists, sets, maps, priority queues, etc.) and other stuff.</li>
<li>Implementations: Concrete classes you can see.</li>
</ul>
<p><img src="/2020/03/03/CS61B-Abstract-Data-Types/concrete.jpg" alt></p>
<h3><span id="tasks"> Tasks</span><a href="#tasks" class="header-anchor"> </a></h3>
<p>3 tasks, given the text of a book:</p>
<ul>
<li>Create a list of all words in the book.</li>
<li>Count the number of unique words.</li>
<li>Keep track of the number of times that specific words are mentioned.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getWords</span><span class="params">(String inputFileName)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; lst = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">    In in = <span class="keyword">new</span> In();</span><br><span class="line">    <span class="keyword">while</span>(!in.isEmpty()) &#123;</span><br><span class="line">        lst.add(in.readString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">countUniqueWords</span><span class="params">(List&lt;String&gt; words)</span> </span>&#123;</span><br><span class="line">    Set&lt;String&gt; ss = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String s : words) &#123;</span><br><span class="line">        ss.add(s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ss.size();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Map&lt;String, Integer&gt; <span class="title">collectWordCount</span><span class="params">(List&lt;String&gt; words, List&lt;String&gt; targets)</span> </span>&#123;</span><br><span class="line">    Map&lt;String, Integer&gt; counts = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String t : targets) &#123;</span><br><span class="line">        counts.put(t, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (String s : words) &#123;</span><br><span class="line">        <span class="keyword">if</span> (counts.containsKey(s)) &#123;</span><br><span class="line">            <span class="keyword">int</span> oldCount = counts.get(s);</span><br><span class="line">            counts.put(s, oldCount + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> counts;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="abstract-classes"> Abstract classes</span><a href="#abstract-classes" class="header-anchor"> </a></h3>
<h4><span id="more-about-interfaces"> More about Interfaces</span><a href="#more-about-interfaces" class="header-anchor"> </a></h4>
<p><strong>A closer look at interfaces</strong><br>
Interfaces may combine a mix of <strong>abstract</strong> and <strong>default</strong> methods.</p>
<ul>
<li>Abstract methods are <strong>what</strong>. And must be overridden by subclass.</li>
<li>Default methods are <strong>how</strong>.</li>
</ul>
<p><strong>Remark:</strong></p>
<ul>
<li>Every method in an interface must be public, so <strong>public</strong> is redundant.</li>
<li>Unless you use the keyword <strong>default</strong>, a method will be <strong>abstract</strong>.</li>
</ul>
<p>More interface details:</p>
<ul>
<li>Can provide variables, but they are <strong>public static final</strong>.<br>
– final means the value can never change.</li>
<li>A class can implement multiple interfaces.</li>
</ul>
<h4><span id="interfaces-summary"> Interfaces Summary</span><a href="#interfaces-summary" class="header-anchor"> </a></h4>
<ul>
<li>Cannot be instantiated.</li>
<li>Can provide either <strong>abstract</strong> or <strong>concrete</strong> methods.<br>
– Use no keyword for abstract methods.<br>
– Use <strong>default</strong> keyword for concrete methods.</li>
<li>Can provide only public static final variables.</li>
<li>Can provide only public methods.</li>
</ul>
<h4><span id="introducing-abstract-classes"> Introducing: Abstract Classes</span><a href="#introducing-abstract-classes" class="header-anchor"> </a></h4>
<p>Abstract classes are an intermediate level between interfaces and classes.</p>
<ul>
<li>Cannot be instantiated.</li>
<li>Can provide either <strong>abstract</strong> or <strong>concrete</strong> methods.<br>
– Use <strong>abstract</strong> keyword for abstract methods.<br>
– Use no keyword for concrete methods.</li>
<li>Can provide variables (any kind).</li>
<li>Can provide methods (any kind).</li>
</ul>
<h4><span id="summary-abstract-classes-vs-interfaces"> Summary: Abstract Classes vs. Interfaces</span><a href="#summary-abstract-classes-vs-interfaces" class="header-anchor"> </a></h4>
<p>Interfaces:</p>
<ul>
<li>Primarily for interface inheritance. Limited implementation inheritance.</li>
<li>Classes can implement multiple interfaces.</li>
</ul>
<p>Abstract classes:</p>
<ul>
<li>Can do anything an interface can do, and more.</li>
<li>Subclasses only extend one abstract class.</li>
</ul>
<h3><span id="packages"> Packages</span><a href="#packages" class="header-anchor"> </a></h3>
<p>Package names <strong>give a canonical name for everything.</strong> Canonical means a unique representation for a thing.</p>
<p>To address the fact that classes might share names:</p>
<ul>
<li>A package is a <strong>namespace</strong> that organizes classes and interfaces.</li>
<li>Naming convention: Package name starts with website address(backwards)</li>
</ul>
<p>Typing out the entire name can be annoying.</p>
<ul>
<li>Can use import statement to provide shorthand notation for usage of a single class in a package.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ug.joshh.animal.Dog;</span><br><span class="line">Dog d = <span class="keyword">new</span> Dog(...);</span><br></pre></td></tr></table></figure>
<ul>
<li>Wildcard import: Also possible to import multiple classes, but this is often a bad idea.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ug.joshh.animal.*;</span><br><span class="line">Dog d = <span class="keyword">new</span> Dog(...);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/03/CS61B-Subtype-Polymorphism/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Starfly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Starfly's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/03/CS61B-Subtype-Polymorphism/" itemprop="url">CS61B-Subtype Polymorphism</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-03T01:17:34+08:00">
                2020-03-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="subtype-polymorphism"> Subtype Polymorphism</span><a href="#subtype-polymorphism" class="header-anchor"> </a></h2>
<p><strong>Polymorphism:</strong> “providing a single interface to entities of different types”.</p>
<p>Consider a variable deque of static type Deque:</p>
<ul>
<li>When you call <em>deque.addFirst()</em>, the actual behavior is based on the dynamic type.</li>
<li>Java automatically selects the right behavior using what is sometimes called “dynamic method selection”.</li>
</ul>
<h3><span id="solution-of-comparison-in-a-self-defined-type"> Solution of comparison in a self-defined type</span><a href="#solution-of-comparison-in-a-self-defined-type" class="header-anchor"> </a></h3>
<p><strong>Solution:</strong> Create an interface that guarantees a comparison method.</p>
<ul>
<li>Have Dog implement this interface.</li>
<li>Write Maximizer class in terms of this interface.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OurComparable</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** Return negative number if this &lt; o.</span></span><br><span class="line"><span class="comment">        Return 0 if this = o.</span></span><br><span class="line"><span class="comment">        Return positive number if this &gt; o. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">OurComparable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String n, <span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">        name = n;</span><br><span class="line">        size = s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(name + <span class="string">"bark"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns negative number if this dog is less than the dog pointed at by o, and so forth. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        Dog otherDog = (Dog) o;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.size - otherDog.size;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now we come to our Max function.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Maximizer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> OurComparable <span class="title">max</span><span class="params">(OurComparable[] items)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> maxDex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> cmp = items[i].compareTo(items[maxDex]);</span><br><span class="line">            <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                maxDex = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> items[maxDex];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Benefits of this approach:</p>
<ul>
<li>No need for array maximization code in every custom type (i.e. no <em>Dog.maxDog(Dog[])</em> function required).</li>
<li>Code that operates on multiple types (mostly) gracefully.</li>
</ul>
<h3><span id="comparables"> Comparables</span><a href="#comparables" class="header-anchor"> </a></h3>
<p>Some issues with OurComparable:</p>
<ul>
<li>Awkward casting to/from Objects.</li>
<li>We made it up.<br>
– No existing classes implement OurComparable (e.g. String etc).<br>
– No existing classes use OurComparable (e.g. no built-in max function that uses OurComparable)</li>
</ul>
<p>The industrial strength approach: Use the built-in Comparable interface.</p>
<ul>
<li>Already defined and used by tons of libraries. Uses generics.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(T obj)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Dog</span>&gt; </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Dog otherDog)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.size - otherDog.size;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Comparable Advantages</strong></p>
<ul>
<li>Lots of built in classes implement Comparable (e.g. String).</li>
<li>Lots of libraries use the Comparable interface (e.g. Arrays.sort).</li>
<li>Avoids need for casts.</li>
</ul>
<h3><span id="comparator"> Comparator</span><a href="#comparator" class="header-anchor"> </a></h3>
<h4><span id="natural-order"> Natural Order</span><a href="#natural-order" class="header-anchor"> </a></h4>
<p>The term “Natural Order” is sometimes used to refer to the ordering implied by a Comparable’s <em>compareTo</em> method.</p>
<ul>
<li>Example: Dog objects (as we’ve defined them) have a natural order given by their size.</li>
</ul>
<p>May wish to order objects in a different way.</p>
<ul>
<li>Example: By name.</li>
</ul>
<h4><span id="additional-orders-in-java"> Additional Orders in Java</span><a href="#additional-orders-in-java" class="header-anchor"> </a></h4>
<p>In some languages, we’d write two comparison functions and simply pass the one we want:</p>
<ul>
<li>sizeCompare()</li>
<li>nameCompare()</li>
</ul>
<p>The standard Java approach: Create <em>sizeComparator</em> and <em>nameComparator</em> classes that implement the <em>Comparator</em> interface.</p>
<ul>
<li>Requires methods that also take <em>Comparator</em> arguments.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T o1, T o2)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Use nested class:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">NameComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">Dog</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Dog a, Dog b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.name.compareTo(b.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Comparator&lt;Dog&gt; <span class="title">getNameComparator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> NameComparator;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Comparator&lt;Dog&gt; nc = Dog.getNameComparator();</span><br></pre></td></tr></table></figure>
<h3><span id="comparable-and-comparator-summary"> Comparable and Comparator Summary</span><a href="#comparable-and-comparator-summary" class="header-anchor"> </a></h3>
<p>Interfaces provide us with the ability to make <strong>callbacks:</strong></p>
<ul>
<li>Sometimes a function needs the help of another function that might not have been written yet.<br>
– Example: max needs compareTo<br>
– The helping function is sometimes called a “callback”.</li>
<li>Some languages handle this using explicit function passing.</li>
<li>In Java, we do this by wrapping up the needed function in an interface (e.g. <em>Arrays.sort</em> needs <em>compare</em> which lives inside the <em>comparator</em> interface)</li>
<li><em>Arrays.sort</em> “calls back” whenever it needs a comparison.<br>
– Similar to giving your number to someone if they need information.</li>
</ul>
<h3><span id="generics"> Generics</span><a href="#generics" class="header-anchor"> </a></h3>
<h4><span id="creating-another-generic-class"> Creating Another Generic Class</span><a href="#creating-another-generic-class" class="header-anchor"> </a></h4>
<p>Goal 1: Create a class ArrayMap with the following methods:</p>
<ul>
<li>put(key, value): Associate key with value.</li>
<li>containsKey(key): Checks to see if arraymap contains the key.</li>
<li>get(key): Returns value, assuming key exists.</li>
<li>keys(): Returns a list of all keys.</li>
<li>size(): Returns number of keys.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayMap</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map61B</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> K[] keys;</span><br><span class="line">    <span class="keyword">private</span> V[] values;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        keys = (K[]) <span class="keyword">new</span> Object[<span class="number">100</span>];</span><br><span class="line">        values = (V[]) <span class="keyword">new</span> Object[<span class="number">100</span>];</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">keyIndex</span><span class="params">(K key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (keys[i].equals(key)) &#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsKey</span><span class="params">(K key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index = keyIndex(key);</span><br><span class="line">        <span class="keyword">return</span> index &gt; -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index = keyIndex(key);</span><br><span class="line">        <span class="keyword">if</span> (index == -<span class="number">1</span>) &#123;</span><br><span class="line">            keys[size] = key;</span><br><span class="line">            values[size] = value;</span><br><span class="line">            size += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        values[index] = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(K key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index = KeyIndex(key);</span><br><span class="line">        <span class="keyword">return</span> values[index];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;K&gt; <span class="title">keys</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;K&gt; keyList = <span class="keyword">new</span> ArrayList&lt;K&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            keyList.add(keys[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> keyList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="generic-methods"> Generic methods</span><a href="#generic-methods" class="header-anchor"> </a></h4>
<ul>
<li><em>get(Map61B, key)</em>: Returns the value corresponding to the given key in the map if it exists, otherwise null.<br>
– This is useful because <em>ArrayMap</em> currently has a bug where the get method throws an <em>ArrayIndexOutOfBoundsException</em> of we try to get a key that doesn’t exist in the <em>ArrayMap</em>.</li>
<li><em>maxKey(Map61B)</em>: Returns the maximum of all keys in the given <em>ArrayMap</em>. Works only if keys can be compared.</li>
</ul>
<p><strong>Implementing get</strong><br>
We could write a very limited method by declare the parameters as String and Integer like so:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapHelper</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title">get</span><span class="params">(Map61B&lt;String, Integer&gt; map, String key)</span></span></span><br><span class="line"><span class="function">    ...</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
<p>We are restricting this method to only take <em>Map61B&lt;String, Integer&gt;</em>. We want to take any kind of <em>Map61B</em>. However, the following method header produces a compilation error:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> V <span class="title">get</span><span class="params">(Map61B&lt;K, V&gt; map, String key)</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This is because with generics defined in class headers, Java waits for the user to instantiate an object of the class in order to know what actual types each generic will be. However, here we’d like a generic specific to this method. Thus we see the need for generic methods. To declare a method as generic, the formal type parameters must be specified before the return type:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;K, V&gt; <span class="function">V <span class="title">get</span><span class="params">(Map61B&lt;K, V&gt; map, K key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> map.containsKey(key) &#123;</span><br><span class="line">        <span class="keyword">return</span> map.get(key);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Implementing maxKey</strong></p>
<ul>
<li>Only numerical primitives can be compared with &gt;.(though due to auto-unboxing: numerical wrapper can types can be compared with &gt;)</li>
<li>K’s don’t necessarily have a <em>compareTo</em> method.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;K extends Comparable&lt;K&gt;, V&gt; <span class="function">K <span class="title">maxKey</span><span class="params">(Map61B&lt;K, V&gt; map)</span> </span>&#123;</span><br><span class="line">    List&lt;K&gt; keylist = map.keys();</span><br><span class="line">    K largest = map.get(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (K k: keylist) &#123;</span><br><span class="line">        <span class="keyword">if</span> (k.compareTo(largest)) &#123;</span><br><span class="line">            largest = k;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> largest;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here extends means isASubtypeOf.</p>
<h4><span id="type-upper-bounds"> Type upper bounds</span><a href="#type-upper-bounds" class="header-anchor"> </a></h4>
<p>Question: why does it “extend” comparable and not “implement”? Comparable is an interface after all.</p>
<p>Answer:</p>
<ul>
<li>When we say that K extends Comparable, we are simply stating a fact. We aren’t giving K the abilities of a Comparable, we are just saying that K must be Comparable.</li>
<li>This different use of extends is called type upper bounding.</li>
<li>In the context of inheritance, the extends keyword is active in giving the subclass the abilities of the superclass. In the context of generics, extends simply states a fact: You must be a subclass of whatever you are extending. <strong>When used with generics (like in generic method headers), extends imposes a constraint rather than grants new abilities.</strong></li>
</ul>
<h4><span id="generics-summary"> Generics Summary</span><a href="#generics-summary" class="header-anchor"> </a></h4>
<p>We’ve now seen four features of Java that make Generics more powerful:</p>
<ul>
<li>Autoboxing and auto-unboxing of primitive wrapper types.</li>
<li>Promotion between primitive types.</li>
<li>Specification of generic types for methods (before return type.)</li>
<li>Type upper bounds (e.g. K extends Comparable<k>)</k></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/01/CS61b-Interfaces-Inheritance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Starfly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Starfly's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/01/CS61b-Interfaces-Inheritance/" itemprop="url">CS61b-Interfaces, Inheritance</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-01T10:09:59+08:00">
                2020-03-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="inheritance"> Inheritance</span><a href="#inheritance" class="header-anchor"> </a></h2>
<h3><span id="hypernym-and-hyponym"> Hypernym and Hyponym</span><a href="#hypernym-and-hyponym" class="header-anchor"> </a></h3>
<p>We use the word hyponym for the opposite type of relationship.</p>
<ul>
<li>“dog”: Hypernym of “poodle”, “malamute”, “dacshund”, etc.</li>
<li>“poodle”: Hyponym of “dog”.</li>
</ul>
<p>Hypernyms and hyponyms comprise a hierarchy.</p>
<ul>
<li>A dog “is-a” canine.</li>
<li>A canine “is-a” carnivore.</li>
<li>A carnivore “is-an” animal.</li>
</ul>
<h3><span id="simple-hyponymic-relationships-in-java"> Simple Hyponymic Relationships in Java</span><a href="#simple-hyponymic-relationships-in-java" class="header-anchor"> </a></h3>
<p>SLLists and ALists are both clearly some kind of “list”.</p>
<p>Expressing this in Java is a two-step process:</p>
<ul>
<li>Step1: Define a reference type for our hypernym.</li>
<li>Step2: Specify that SLLists and ALists are hyponyms of that type.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">List61B</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(Item x)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">getLast</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">removeLast</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Item x, <span class="keyword">int</span> position)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(Item x)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">getFirst</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Use the new implements keyword to tell the Java compiler that SLList and AList are hyponyms of List61B.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLLists</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">implements</span> <span class="title">List61B</span>&lt;<span class="title">Item</span>&gt;</span></span><br><span class="line"><span class="class">``` </span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">### <span class="title">Overriding</span></span></span><br><span class="line">If a "subclass" has a method with the exact same signature as in the "superclass", we say the subclass **overrides** the method.</span><br><span class="line"></span><br><span class="line">- Animal<span class="string">'s subclass Pig overrides the makeNoise() method.</span></span><br><span class="line"><span class="string">- Methods with the same name but different signatures are **overloaded**.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">```java</span></span><br><span class="line"><span class="string">public interface Animal &#123;</span></span><br><span class="line"><span class="string">    public void makeNoise();</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// makeNoise is overrided</span></span><br><span class="line"><span class="string">public class Pig implements Animal &#123;</span></span><br><span class="line"><span class="string">    public void makeNoise() &#123;</span></span><br><span class="line"><span class="string">        System.out.println("oink");</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// makeNoise is overloaded</span></span><br><span class="line"><span class="string">public class Dog implements Animal &#123;</span></span><br><span class="line"><span class="string">    public void makeNoise(Dog x) &#123;</span></span><br><span class="line"><span class="string">        ...</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">public class Math &#123;</span></span><br><span class="line"><span class="string">    // abs is overloaded</span></span><br><span class="line"><span class="string">    public int abs(int a)</span></span><br><span class="line"><span class="string">    public double abs(double a)</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<h3><span id="adding-the-override-tag"> Adding the @Override tag</span><a href="#adding-the-override-tag" class="header-anchor"> </a></h3>
<p>The only effect of this tag is that the code won’t compile if it is not actually an overriding method.</p>
<p>Why use @Override?</p>
<ul>
<li>Main reason: Protects against typos.<br>
– If you say @Override, but it is the method isn’t actually overriding anything, you’ll get a compile error.</li>
<li>Reminds programmer that method definition came from somewhere higher up in the inheritance hierarchy.</li>
</ul>
<h3><span id="interface-inheritance"> Interface Inheritance</span><a href="#interface-inheritance" class="header-anchor"> </a></h3>
<p>The usage of the <strong>implements</strong> keyword is sometimes referred to as interface inheritance.</p>
<ul>
<li>All sub-classes (hyponyms) are said to ‘inherit’ the interface from their super-class (hypernym).</li>
<li>Interface consists of all the method signatures.</li>
<li>Such relationships can be multi-generational.</li>
</ul>
<h3><span id="implementation-inheritance"> Implementation Inheritance</span><a href="#implementation-inheritance" class="header-anchor"> </a></h3>
<p>Interface inheritance:</p>
<ul>
<li>Subclass inherits signatures, but NOT implementation.</li>
</ul>
<p>For better or worse, Java also allows implementation inheritance.</p>
<ul>
<li>Subclasses can inherit signatures AND implementation.</li>
</ul>
<p>Use the default keyword to specify a method that subclasses should inherit from an <strong>interface</strong>.</p>
<ul>
<li>Example: Let’s add a default <em>print()</em> method to List61B.java</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">default</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size(); i++) &#123;</span><br><span class="line">        System.out.print(get(i) + <span class="string">" "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="overriding-default-methods"> Overriding Default Methods</span><a href="#overriding-default-methods" class="header-anchor"> </a></h3>
<p>If you don’t like a default method, you can override it.</p>
<ul>
<li>Any call to <em>print()</em> on an SList will use this method instead of default.</li>
<li>Use (optional) @Override to catch typos.</li>
</ul>
<h3><span id="static-type-vs-dynamic-type"> Static Type vs. Dynamic Type</span><a href="#static-type-vs-dynamic-type" class="header-anchor"> </a></h3>
<p>Every variable in Java has a “compile-time type”, a.k.a. “static type”.</p>
<ul>
<li>This is the type specified at <strong>declaration</strong>. Never changes!</li>
</ul>
<p>Variables also have a “run-time type”, a.k.a “dynamic type”.</p>
<ul>
<li>This is the type specified at <strong>instantiation</strong> (e.g. when using new).</li>
<li>Equal to the type of the object being pointed at.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    LivingThing lt1;  <span class="comment">// lt1 static type: LivingThing; lt1 dynamic type: null</span></span><br><span class="line">    lt1 = <span class="keyword">new</span> Fox();  <span class="comment">// lt1 static type: LivingThing; lt1 dynamic type: Fox</span></span><br><span class="line">    Animal a1 = lt1;  <span class="comment">// a1 static type: Animal; a1 dynamic type: Fox</span></span><br><span class="line">    Fox h1 = a1;      <span class="comment">// h1 static type: Fox; h1 dynamic type: Fox</span></span><br><span class="line">    lt1 = <span class="keyword">new</span> Squid();<span class="comment">// lt1 static type: LivingThing; lt1 dynamic type: Squid</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Dynamic Method Selection For Overriden Methods</strong><br>
Suppose we call a method of an object using a variable with:</p>
<ul>
<li>compile-time type X</li>
<li>run-time type Y</li>
</ul>
<p>Then if Y <strong>overrides</strong> the method, Y’s method is used instead.</p>
<ul>
<li>This is known as “dynamic method selection”.</li>
</ul>
<p><strong>Important:</strong> This does not work for overloaded methods.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SLList&lt;String&gt; SP = <span class="keyword">new</span> SLList&lt;String&gt;();</span><br><span class="line">List61B&lt;String&gt; LP = SP;</span><br><span class="line">SP.addLast(<span class="string">"elk"</span>);</span><br><span class="line">SP.addLast(<span class="string">"are"</span>);</span><br><span class="line">SP.addLast(<span class="string">"cool"</span>);</span><br><span class="line">peek(SP);     <span class="comment">// elk</span></span><br><span class="line">peek(LP);     <span class="comment">// cool</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">peek</span><span class="params">(List61B&lt;String&gt; list)</span> </span>&#123;</span><br><span class="line">    System.out.println(list.getLast());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">peek</span><span class="params">(SLList&lt;String&gt; list)</span> </span>&#123;</span><br><span class="line">    System.out.println(list.getFirst());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="overriding-vs-overloading"> Overriding vs. Overloading</span><a href="#overriding-vs-overloading" class="header-anchor"> </a></h3>
<p>Dynamic method selection only happens for <strong>overridden</strong> methods.</p>
<ul>
<li>When instance method of subtype overrides some method in supertype.</li>
</ul>
<p>Dynamic method selection does not happen for <strong>overloaded</strong> methods:</p>
<ul>
<li>When some other class has two methods, one for the supertype and one for the subtype.</li>
</ul>
<h3><span id="interface-vs-implementation-inheritance"> Interface vs. Implementation inheritance</span><a href="#interface-vs-implementation-inheritance" class="header-anchor"> </a></h3>
<p>Interface Inheritance (a.k.a what):</p>
<ul>
<li>Allows you to generalize code in a powerful, simple way.</li>
</ul>
<p>Implementation Inheritance (a.k.a how):</p>
<ul>
<li>Allow code-reuse: Subclasses can rely on superclasses or interfaces.<br>
– Gives another dimension of control to subclass designers: Can decide whether or not to override the default implementations.</li>
</ul>
<p>Important: In both cases, we specify “is-a” relationships, not “has-a”.</p>
<ul>
<li>Good: Dog implements Animal, SLList implements List61B.</li>
<li>Bad: Cat implements Claw, Set implements SLList.</li>
</ul>
<h2><span id="extends"> Extends</span><a href="#extends" class="header-anchor"> </a></h2>
<h3><span id="the-extends-keyword"> The Extends Keyword</span><a href="#the-extends-keyword" class="header-anchor"> </a></h3>
<p>When a class is a hyponym of an interface, we use <strong>implements.</strong></p>
<ul>
<li>Example: <em>SLList&lt;Blorp&gt;</em> <strong>implements</strong> <em>List61B&lt;Blorp&gt;</em></li>
</ul>
<p>If you want one class to be a hyponym of another class, you use <strong>extends</strong>.</p>
<p>We’d like to build <em>RotatingSLList</em> that can perform any <em>SLList</em> operation as well as:</p>
<ul>
<li>ratateRight(): Moves back item the front.</li>
</ul>
<p>Example: Suppose we have [5, 9, 15, 22].</p>
<ul>
<li>After rotateRight: [22, 5, 9, 15].</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RotatingSLList</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">extends</span> <span class="title">SLList</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/** Rotates list to the right */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rotateRight</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Item x = removeLast();</span><br><span class="line">        addFirst(x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Because of <strong>extends</strong>, <em>RotatingSLList</em> inherits all members of <em>SLList</em>:</p>
<ul>
<li>All instance and static variables.</li>
<li>All methods.</li>
<li>All nested classes.</li>
</ul>
<p>Remark:</p>
<ul>
<li>Constructors are not inherited.</li>
<li>Members may be private thus inaccessible.</li>
</ul>
<h3><span id="vengefulsllist"> VengefulSLList</span><a href="#vengefulsllist" class="header-anchor"> </a></h3>
<p>Suppose we want to build an <em>SLList</em> that:</p>
<ul>
<li>Remembers all items that have been destroyed by removeLast.</li>
<li>Has an additional method <em>printLostItems()</em>, which prints all deleted items.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VengefulSLList</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">extends</span> <span class="title">SLList</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> SLList&lt;Item&gt; deletedItems;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">VengefulSLList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        deletedItems = <span class="keyword">new</span> SLList&lt;Item&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">removeLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Item x = <span class="keyword">super</span>.removeLast();</span><br><span class="line">        deletedItems.addLast(x);</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Prints deleted items. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printLostItems</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        deletedItems.print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="constructor-behavior"> Constructor Behavior</span><a href="#constructor-behavior" class="header-anchor"> </a></h3>
<p>Constructors are not inherited. However, the rules of Java say that <strong>all constructors must start with a call to one of the super class’s constructor.</strong></p>
<ul>
<li>Idea: If every VengefulSLList is-an SLList, every VengefulSLList must be set up like an SLList.<br>
– If you don’t call SLList constructor, sentinel would be null. Very bad.</li>
<li>You can explicitly call the constructor with the keyword super(no dot).</li>
<li>If you don’t explicitly call the constructor, Java will automatically do it for you.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">VengefulSLList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    deletedItems = <span class="keyword">new</span> SLList&lt;Item&gt;();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">VengefulSLList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    deletedItems = <span class="keyword">new</span> SLList&lt;Item&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>They are the same.<br>
If you want to use a super constructor other than the no-argument constructor, can give parameters to super.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">VengefulSLList</span><span class="params">(Item x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>(x);           <span class="comment">// calls SLList(Item x)</span></span><br><span class="line">    deletedItems = <span class="keyword">new</span> SLList&lt;Item&gt;();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">VengefulSLList</span><span class="params">(Item x)</span> </span>&#123;</span><br><span class="line">    deletedItems = <span class="keyword">new</span> SLList&lt;Item&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Not equivalent!</p>
<h3><span id="the-object-class"> The Object Class</span><a href="#the-object-class" class="header-anchor"> </a></h3>
<p>As it happens, every type in Java is a descendant of the Object class.</p>
<ul>
<li>VengefulSLList extends SLList.</li>
<li>SLList extends Object (implicitly).</li>
</ul>
<p>Interface don’t extend Object.</p>
<h3><span id="encapsulation"> Encapsulation</span><a href="#encapsulation" class="header-anchor"> </a></h3>
<h4><span id="our-enemy"> Our enemy</span><a href="#our-enemy" class="header-anchor"> </a></h4>
<p>When building large programs, our enemy is complexity.</p>
<p>Some tools for managing complexity:</p>
<ul>
<li>Hierarchical abstraction.<br>
– Create <strong>layers of abstraction,</strong> with clear abstraction barriers!</li>
<li>“Design for change” (D.Parnas)<br>
– Organize program around objects.<br>
– Let objects decide how things are done.<br>
– <strong>Hide information</strong> others don’t need.</li>
</ul>
<h4><span id="module"> Module</span><a href="#module" class="header-anchor"> </a></h4>
<p><strong>Module:</strong> A set of methods that work together as a whole to perform some task or set of related tasks.</p>
<p>A module is said to be <strong>encapsulated</strong> if its implementation is completely hidden, and it can be accessed only through a documented interface.</p>
<h4><span id="abstraction-barriers"> Abstraction Barriers</span><a href="#abstraction-barriers" class="header-anchor"> </a></h4>
<p>As the user of an ArrayDeque, you cannot observe its internals.</p>
<ul>
<li>Even when writing tests, you don’t (usually) want to peer inside.</li>
</ul>
<p>Java is a great language for enforcing abstraction barriers with syntax. Using the <em>private</em> keyword in Java, it becomes virtually impossible to look inside an object - ensuring that the underlying complexity isn’t exposed to the outside world.</p>
<h4><span id="how-inheritance-breaks-encapsulation"> How Inheritance Breaks Encapsulation</span><a href="#how-inheritance-breaks-encapsulation" class="header-anchor"> </a></h4>
<p>Suppose we have a Dog class with the two methods shown.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"bark"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">barkMany</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">        bark();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We could just as easily have implemented methods as shown below.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    barkMany(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">barkMany</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">        System.out.println(<span class="string">"bark"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>From the outside, functionality is exactly the same, it’s just a question of aesthetics.</li>
</ul>
<p>Now we have a subclass named <em>Verbose Dog</em>, we can override the <em>barkMany()</em> method.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">barkMany</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"As a dog, I say: "</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">        bark();  <span class="comment">// calls inherited bark method</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If we are the first implementation, we have:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">As a dog, I say: bark bark bark</span><br></pre></td></tr></table></figure>
<p>However, if we are in the second implementation, <strong>we gets caught in an infinite loop!</strong></p>
<h3><span id="type-checking-and-casting"> Type Checking and Casting</span><a href="#type-checking-and-casting" class="header-anchor"> </a></h3>
<h4><span id="warm-up"> Warm up</span><a href="#warm-up" class="header-anchor"> </a></h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VengefulSLList&lt;Integer&gt; vsl = <span class="keyword">new</span> VengefulSLList&lt;Integer&gt;(<span class="number">9</span>);</span><br><span class="line">SLList&lt;Integer&gt; sl = vsl;</span><br></pre></td></tr></table></figure>
<p>These two lines above compile just fine. Since <em>VengefulSLList</em> “is-an” SLList, it’s valid to put an instance of the <em>VengefulSLList</em> class inside an <em>SLList</em> “container”.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sl.addLast(<span class="number">50</span>);</span><br><span class="line">sl.removeLast();</span><br></pre></td></tr></table></figure>
<p>These lines above also compile. The call to <em>addLast</em> is unambiguous, as <em>VengefulSLList</em> did not override or implement it, so the method executed is in <em>SLList</em>. The <em>removeList</em> method is overridden by <em>VengefulSLList</em>, however, so we take a look at the dynamic type of <em>sl</em>. Its dynamic type is <em>VengefulSLList</em>, and so dynamic method selection chooses the overridden method in the <em>VengefulSLList</em> class.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sl.printLostItems();</span><br></pre></td></tr></table></figure>
<p>This line above results in a compile-time error. Remember that the compiler determines whether or not something is valid based on the static type of the object. Since <em>sl</em> is of static type <em>SLList</em>, and <em>printLostItems</em> is not defined in the <em>SLList</em> class, the code will not be allowed to run, even though <em>sl</em>’s runtime type is <em>VengefulSLList</em>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VengefulSLList&lt;Integer&gt; vsl2 = sl;</span><br></pre></td></tr></table></figure>
<p>The line above also results in a compile-time error. In general, the compiler only allows method calls and assignments based on compile-time types. Since the compiler only sees that the static type of <em>sl</em> is SLList, it will not allow a <em>VengefulSLList</em> “container” to hold it.</p>
<h3><span id="expressions"> Expressions</span><a href="#expressions" class="header-anchor"> </a></h3>
<p>Like variables as seen before, expressions using the <em>new</em> keyword also have compile-time types.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SLList&lt;Integer&gt; sl = <span class="keyword">new</span> VengefulSLList&lt;Integer&gt;();</span><br></pre></td></tr></table></figure>
<p>Above, the compile-time type of the right-hand side of the expression is <em>VengefulSLList</em>. The compiler checks to make sure that <em>VengefulSLList</em> “is-a” SLList, and allows this assignment.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VengefulSLList&lt;Integer&gt; vsl = <span class="keyword">new</span> SLList&lt;Integer&gt;();</span><br></pre></td></tr></table></figure>
<p>Above, the compile-time type of the right-hand side of the expression is <em>SLList</em>. The compiler checks if <em>SLList</em> “is-a” <em>VengefulSLList</em>, which is not in all cases, and thus a compilation error results.</p>
<p>Further, method calls have compile-time type equal to their declared type. Suppose we have this method:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Dog <span class="title">maxDog</span><span class="params">(Dog d1, Dog d2)</span> </span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>Since the return type of <em>maxDog()</em> is Dog, any call to <em>maxDog()</em> will have compile-type Dog.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Poodle frank = <span class="keyword">new</span> Poodle(<span class="string">"Frank"</span>, <span class="number">5</span>);</span><br><span class="line">Poodle frankJr = <span class="keyword">new</span> Poodle(<span class="string">"Frank Jr."</span>, <span class="number">15</span>);</span><br><span class="line"></span><br><span class="line">Dog largerDog = maxDog(frank, frankJr);</span><br><span class="line">Poodle largePoodle = maxDog(frank, frankJr); <span class="comment">// does not compile</span></span><br></pre></td></tr></table></figure>
<h4><span id="casting"> Casting</span><a href="#casting" class="header-anchor"> </a></h4>
<p>Java has a special syntax for forcing the compile-time type of any expression.</p>
<ul>
<li>Put desired type in parenthesis before the expression.</li>
<li>Examples:</li>
</ul>
<p>Compile-time type Dog:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">maxDog(frank, frankJr);</span><br></pre></td></tr></table></figure>
<p>Compile-time type Poodle:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(Poodle) maxDog(frank, frankJr);</span><br></pre></td></tr></table></figure>
<p>Casting is a powerful but dangerous tool.</p>
<ul>
<li>Tells Java to treat an expression as having a different compile-time type.</li>
<li>Effectively tells the compiler to ignore its type checking duties.</li>
</ul>
<h3><span id="higher-order-function"> Higher Order Function</span><a href="#higher-order-function" class="header-anchor"> </a></h3>
<p>Higher Order Function: A function that treats another function as data.</p>
<ul>
<li>e.g. takes a function as input</li>
</ul>
<p>Old School (Java7 and earlier)</p>
<ul>
<li>Fundamental issue: Memory boxes (variables) cannot contain pointers to functions.</li>
</ul>
<p>Can use an interface instead.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IntUnaryFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">apply</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TenX</span> <span class="keyword">implements</span> <span class="title">IntUnaryFunction</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** return ten times the argument. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">apply</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span> * x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HoFDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">do_twice</span><span class="params">(IntUnaryFunction f, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> f.apply(f.apply(x));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        IntUnaryFunction tenX = <span class="keyword">new</span> TenX();</span><br><span class="line">        System.out.println(do_twice(tenX, <span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/28/CS61b-Test-and-Selection-Sort/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Starfly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Starfly's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/28/CS61b-Test-and-Selection-Sort/" itemprop="url">CS61b-Test and Selection Sort</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-28T09:40:15+08:00">
                2020-02-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithms</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="test"> Test</span><a href="#test" class="header-anchor"> </a></h2>
<p>In the real world, programmers believe their code works because of tests they write themselves.</p>
<h3><span id="ad-hoc-testing"> Ad Hoc Testing</span><a href="#ad-hoc-testing" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Tests the Sort class. */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSort</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** Test the Sort.sort method. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">TestSort</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String[] input = &#123;<span class="string">"i"</span>, <span class="string">"have"</span>, <span class="string">"an"</span>, <span class="string">"egg"</span>&#125;;</span><br><span class="line">        String[] expected = &#123;<span class="string">"an"</span>, <span class="string">"egg"</span>, <span class="string">"have"</span>, <span class="string">"i"</span>&#125;;</span><br><span class="line"></span><br><span class="line">        Sort.sort(input);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; input.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!input[i].equals(expected[i])) &#123;</span><br><span class="line">                System.out.println(<span class="string">"Mismatch in position "</span> + i + <span class="string">", expected: "</span> + expected[i] + <span class="string">", but got:"</span> + input[i]);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        testSort();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="junit-testing"> JUnit Testing</span><a href="#junit-testing" class="header-anchor"> </a></h3>
<p>Ad Hoc Testing is tedious.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testSort</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String[] input = &#123;<span class="string">"i"</span>, <span class="string">"have"</span>, <span class="string">"an"</span>, <span class="string">"egg"</span>&#125;;</span><br><span class="line">    String[] expected = &#123;<span class="string">"an"</span>, <span class="string">"egg"</span>, <span class="string">"have"</span>, <span class="string">"i"</span>&#125;;</span><br><span class="line"></span><br><span class="line">    Sort.sort(input);</span><br><span class="line"></span><br><span class="line">    org.junit.Assert.assertArrayEquals(expected, input);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="selection-sort"> Selection Sort</span><a href="#selection-sort" class="header-anchor"> </a></h3>
<p>Selection sorting a list of N items:</p>
<ul>
<li>Find the smallest item.</li>
<li>Move it to the front.</li>
<li>Seletion sort the remaining N-1 items(without touching front item!)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sort</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** Sorts strings destructively. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] x)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// find the smallest item</span></span><br><span class="line">        <span class="comment">// move it to the front</span></span><br><span class="line">        <span class="comment">// selection sort the rest (using recursion?)</span></span><br><span class="line">        sort(x, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns the smallest string in x.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@source</span> Got help with string compares from https://goo.gl/a7yBUS. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">findSmallest</span><span class="params">(String[] x)</span> </span>&#123;</span><br><span class="line">        String smallest = x[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; x.length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> cmp = x[i].compareTo(smallest);</span><br><span class="line">            <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                smallest = x[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> smallest;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSort</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testFindSmallest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String[] input = &#123;<span class="string">"i"</span>, <span class="string">"have"</span>, <span class="string">"an"</span>, <span class="string">"egg"</span>&#125;;</span><br><span class="line">        String expected = <span class="string">"an"</span>;</span><br><span class="line"></span><br><span class="line">        String actual = Sort.findSmallest(input);</span><br><span class="line">        org.junit.Assert.assertEquals(expected, actual);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        testFindSmallest();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="swap"> Swap</span><a href="#swap" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Swap item a with b */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(String[] x, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    String temp = x[a];</span><br><span class="line">    x[a] = x[b];</span><br><span class="line">    x[b] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Test the Sort.swap method */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testSwap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String[] input = &#123;<span class="string">"i"</span>, <span class="string">"have"</span>, <span class="string">"an"</span>, <span class="string">"egg"</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">2</span>;</span><br><span class="line">    String[] expected = &#123;<span class="string">"an"</span>, <span class="string">"have"</span>, <span class="string">"i"</span>, <span class="string">"egg"</span>&#125;;</span><br><span class="line"></span><br><span class="line">    Sort.swap(input, a, b);</span><br><span class="line">    org.junit.Assert.assertArrayEquals(expected, input);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    testSwap();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="revising-findsmallest"> Revising findSmallest</span><a href="#revising-findsmallest" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Returns the index of the smallest string in x.</span></span><br><span class="line"><span class="comment"><span class="doctag">@source</span> Got help with string compares from https://goo.gl/a7yBUS. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">findSmallest</span><span class="params">(String[] x, <span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> smallest = start;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt; x.length; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> cmp = x[i].compareTo(x[smallest]);</span><br><span class="line">        <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            smallest = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> smallest;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="recursive-helper-methods"> Recursive Helper Methods</span><a href="#recursive-helper-methods" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] x)</span> </span>&#123;</span><br><span class="line">    sort(x, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/** Sorts x starting at position start. */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] x, <span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (start == x.length) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> minIndex = findSmallest(x, start);</span><br><span class="line">    swap(x, start, minIndex);</span><br><span class="line">    sort(x, start + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="reflections-on-the-development-process"> Reflections on the Development Process</span><a href="#reflections-on-the-development-process" class="header-anchor"> </a></h3>
<p>Often, development is an incremental process that involves lots of task switching on the fly design modification.</p>
<p>Tests provide stability and scaffolding.</p>
<ul>
<li>Provide confidence in basic units and mitigate possibility of breaking them.</li>
<li>Help you focus on one task at a time.</li>
</ul>
<h3><span id="simpler-junit"> Simpler JUnit</span><a href="#simpler-junit" class="header-anchor"> </a></h3>
<p>New Syntax:</p>
<ul>
<li><strong>Annotate</strong> each test with <em>@org.junit.Test</em>.</li>
<li>Change all test methods to non-static.</li>
<li>Use a JUnit runner to run all tests and tabulate results.<br>
– IntelliJ provides a default runner/renderer. OK to delete main.<br>
– Rendered output is eaiser to read, no need to manually invoke tests.</li>
</ul>
<p>New Syntax:<br>
Start every test file with:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br></pre></td></tr></table></figure>
<p>This will magically eliminate the need to type <em>org.junit</em> or <em>org.junit.Assert</em></p>
<h3><span id="test-driven-development-tdd"> Test-Driven Development(TDD)</span><a href="#test-driven-development-tdd" class="header-anchor"> </a></h3>
<p>Steps to developing according to TDD:</p>
<ul>
<li>Identify a new feature.</li>
<li>Write a unit test for that feature.</li>
<li>Run the test. It should fail.</li>
<li>Write code that passes test.<br>
– Implementation is certifiably good.</li>
<li>Optional: Refactor code to make it faster, cleaner, etc.</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/27/CS61B-ALists/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Starfly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Starfly's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/27/CS61B-ALists/" itemprop="url">CS61B-ALists</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-27T09:36:50+08:00">
                2020-02-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithms</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="alist"> AList</span><a href="#alist" class="header-anchor"> </a></h2>
<h3><span id="abitrary-retrieval"> Abitrary Retrieval</span><a href="#abitrary-retrieval" class="header-anchor"> </a></h3>
<p>Suppose we added get(int i), which returns the ith item from the list.</p>
<p>Have to scan to desired position. Slow for any i not near the sentinel node.</p>
<h3><span id="our-first-attempt-the-naive-array-based-list"> Our First Attempt: The Naive Array Based List</span><a href="#our-first-attempt-the-naive-array-based-list" class="header-anchor"> </a></h3>
<p>Accessing the <em>i</em>th element of an array takes constant time on a mordern computer.</p>
<h4><span id="random-access-in-arrays"> Random Access in Arrays</span><a href="#random-access-in-arrays" class="header-anchor"> </a></h4>
<p>Retrieval from any position of an array is very fast.</p>
<ul>
<li>Independent of array size.</li>
<li>Ultra fast random access results from the fact that memory boxes are the same size.(int bits)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*  Array based List</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AList</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] Items;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Creates an empty List.*/</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Items = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Insets x into the back of the List. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        Items[size] = x;</span><br><span class="line">        size = size + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns the item from the back of the List. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Items[size - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Gets the ith item in the List (0 is to the front). */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Items[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns the number of items in the List. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>AList Invariants:</strong></p>
<ul>
<li>The position of the next item to be inserted is always <em>size</em>.</li>
<li>size is always the number of items in the <em>AList</em>.</li>
<li>The last item in the list is always in position <em>size - 1</em>.</li>
</ul>
<h3><span id="removelast"> removeLast</span><a href="#removelast" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Deletes item from back of the List and returns deleted item */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = getLast();</span><br><span class="line">    size -= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="naive-resizing-arrays"> Naive Resizing Arrays</span><a href="#naive-resizing-arrays" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[capacity];</span><br><span class="line">    System.arraycopy(Items, <span class="number">0</span>, a, <span class="number">0</span>, size)</span><br><span class="line">    Items = a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/** Insets x into the back of the List. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (size == Items.length) &#123;</span><br><span class="line">        resize(size + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    Items[size] = x;</span><br><span class="line">    size = size + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This is obviously unacceptable because we take linear time for every <em>addLast</em> operation when <em>size == Items.length</em>.</p>
<h3><span id="geometric-resizing"> Geometric Resizing</span><a href="#geometric-resizing" class="header-anchor"> </a></h3>
<p>An AList should not only be efficient in time, but also efficient in space.</p>
<ul>
<li>Define the “usage ratio” <em>R = size / items.length</em>;</li>
<li>Typical solution: Half array size when <em>R &lt; 0.25</em></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Insets x into the back of the List. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (size == Items.length) &#123;</span><br><span class="line">        resize(size * REFACTOR);</span><br><span class="line">    &#125;</span><br><span class="line">    Items[size] = x;</span><br><span class="line">    size = size + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/** Deletes item from back of the List and returns deleted item */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = getLast();</span><br><span class="line">    size -= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">double</span> R = size / items.length;</span><br><span class="line">    <span class="keyword">if</span> (R &lt; <span class="number">0.25</span>) resize(items.length / <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="generic-alists"> Generic ALists</span><a href="#generic-alists" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AList</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Item[] items;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        items = (Item[]) <span class="keyword">new</span> Object[<span class="number">100</span>];</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        Item[] a = (Item[]) <span class="keyword">new</span> Object[capacity];</span><br><span class="line">        System.arraycopy(items, <span class="number">0</span>, a, <span class="number">0</span>, size);</span><br><span class="line">        items = a;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(Item x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (size == items.length) &#123;</span><br><span class="line">            resize(size * REFACTOR);</span><br><span class="line">        &#125;</span><br><span class="line">        items[size] = x;</span><br><span class="line">        size = size + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">getLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> items[size - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> items[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">removeLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Item x = getLast();</span><br><span class="line">        items[size - <span class="number">1</span>] = <span class="keyword">null</span>;</span><br><span class="line">        size = size - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> R = size / items.length;</span><br><span class="line">        <span class="keyword">if</span> (R &lt; <span class="number">0.25</span>) resize(items.length / <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        reutrn x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Java doesn’t allow you to create an array with generic Objects.</p>
<h3><span id="nulling-out-deleted-items"> Nulling Out Deleted items</span><a href="#nulling-out-deleted-items" class="header-anchor"> </a></h3>
<p>Unlike integer based ALists, we actually want to null out deleted items.</p>
<ul>
<li>Java only destroys unwanted objects when the last reference has been lost.</li>
<li>Keeping references to unneeded objects is sometimes called loitering.</li>
<li>Save memory. Don’t loiter.</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/25/CS61B-Arrays/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Starfly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Starfly's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/25/CS61B-Arrays/" itemprop="url">CS61B-Arrays</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-25T11:19:26+08:00">
                2020-02-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithms</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="arrays"> Arrays</span><a href="#arrays" class="header-anchor"> </a></h2>
<h3><span id="getting-memory-boxes"> Getting Memory Boxes</span><a href="#getting-memory-boxes" class="header-anchor"> </a></h3>
<p>Arrays are a special kind of object which consists of a <strong>numbered</strong> sequence of memory boxes:</p>
<ul>
<li>To get ith item of array A, use A[i].</li>
<li>Unlike <strong>class</strong> instances which have <strong>named</strong> memory boxes.</li>
</ul>
<p>Arrays consist of:</p>
<ul>
<li>A fixed integer <strong>length</strong> (cannot change!)</li>
<li>A sequence of N memory boxes where <strong>N=length</strong>, such that:<br>
– All of the boxes hold the same type of value (and have same # of bits).<br>
– The boxes are numbered 0 through length-1.</li>
</ul>
<p>Like instances of classes:</p>
<ul>
<li>You get one reference when its created.</li>
<li>If you reassign all variables containing that reference, you can never get the array back.</li>
</ul>
<p>Unlike classes, arrays do not have methods.</p>
<h3><span id="array-creation"> Array Creation</span><a href="#array-creation" class="header-anchor"> </a></h3>
<p>Like classes, arrays are (almost always) instantiated with new.</p>
<p>Three valid notations:</p>
<ul>
<li>y = new int[3];  // creates array containing 3 int boxes (32 * 3 = 96 bits total). Each container gets a default value.</li>
<li>x = new int[]{1,2,3};</li>
<li>int[] w = {1,2,3}; // can omit the new if you are also declaring a variable.</li>
</ul>
<p>All three notations create an array, which we saw on the last slide comprises:</p>
<ul>
<li>A <strong>length</strong> field.</li>
<li>A sequence of <strong>N boxes</strong>, where <strong>N = length</strong>.</li>
</ul>
<p><strong>Arraycopy</strong><br>
Two ways to copy arrays:</p>
<ul>
<li>Item by item using a loop.</li>
<li>Using arraycopy.Takes 5 parameters:<br>
– Source array<br>
– Start position in source<br>
– Target array<br>
– Start position in target<br>
– Number to copy</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.arraycopy(b, <span class="number">0</span>, x, <span class="number">3</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>arraycopy is (likely to be) faster, particularly for large arrays. More compact code.</p>
<ul>
<li>Code is (arguably) harder to read.</li>
</ul>
<h3><span id="arrays-vs-classes"> Arrays vs. Classes</span><a href="#arrays-vs-classes" class="header-anchor"> </a></h3>
<p>Arrays and Classes can both used to organize a bunch of memory boxes.</p>
<ul>
<li>Array boxes are accessed using [] notation.</li>
<li>Class boxes are accessed using dot notation.</li>
<li>Array boxes must all be of the same type.</li>
<li>Class boxes may be of different types.</li>
<li>Both have a fixed number of boxes.</li>
</ul>
<p>Array indices can be computed at runtime.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] x = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">100</span>, <span class="number">101</span>, <span class="number">102</span>, <span class="number">103</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> indexOfInterest = askUser();</span><br><span class="line"><span class="keyword">int</span> k = X[indexOfInterest];</span><br><span class="line">System.out.println(k);</span><br></pre></td></tr></table></figure>
<p>Class member variable names CANNOT be computed and used at runtime.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String fieldOfInterest = <span class="string">"mass"</span>;</span><br><span class="line">Planet earth = <span class="keyword">new</span> Planet(<span class="number">6e24</span>, <span class="string">"earth"</span>);</span><br><span class="line"><span class="keyword">double</span> mass = earth[fieldOfInterest]; <span class="comment">// not work</span></span><br><span class="line"><span class="keyword">double</span> mass = earth.fieldOfInterest; <span class="comment">// not work</span></span><br><span class="line"><span class="keyword">double</span> mass = earth.mass;   <span class="comment">// works fine</span></span><br><span class="line">System.out.println(mass);</span><br></pre></td></tr></table></figure>
<p>The Java compiler does not treat text on either side of a dot as an expression, and thus it is not evaluated.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/25/CS61B-DLLists/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Starfly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Starfly's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/25/CS61B-DLLists/" itemprop="url">CS61B-DLLists</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-25T10:37:34+08:00">
                2020-02-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithms</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="dllists-doubly-linked-lists"> DLLists(Doubly Linked Lists)</span><a href="#dllists-doubly-linked-lists" class="header-anchor"> </a></h2>
<p>The Downside of SLists<br>
Inserting at the back of an SLList is much slower than the front.</p>
<h3><span id="improvement-7-looking-back"> Improvement 7: Looking Back</span><a href="#improvement-7-looking-back" class="header-anchor"> </a></h3>
<p>How could we modify our list data structure so that <em>addLast</em> is also fast?<br>
If we add a pointer that points at the last node of the list, we have quick <em>addLast</em> and <em>getlast</em>, but not <em>removelast</em>.</p>
<h3><span id="improvement-8-sentinel-upgrade"> Improvement 8: Sentinel Upgrade</span><a href="#improvement-8-sentinel-upgrade" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> IntNode prev;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> item;</span><br><span class="line">    <span class="keyword">public</span> IntNode next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This approach has an annoying special case: last sometimes points at the sentinel, and sometimes points at a ‘real’ node.</p>
<p>One possible solution: Have two sentinels.<br>
<img src="/2020/02/25/CS61B-DLLists/dl.jpg" alt></p>
<p>Even better topology: Circular Sentinel<br>
<img src="/2020/02/25/CS61B-DLLists/circular.jpg" alt></p>
<p>While fast, adding <em>.last</em> and <em>.prev</em> introduces lots of special cases.</p>
<p>To avoid these, either:</p>
<ul>
<li>Add an additional sentBack sentinel at the end of the list.</li>
<li>Make your linked list circular, with a single sentinel in the middle.</li>
</ul>
<h3><span id="generic-dllists"> Generic DLLists</span><a href="#generic-dllists" class="header-anchor"> </a></h3>
<p>Our DLLists suffer from a major limitation: they can only hold integer values.</p>
<p><strong>Generics</strong></p>
<ul>
<li>In the .java file <strong>implementing</strong> your data structure, specify your “generic type” <strong>only once</strong> at the very top of the file.</li>
<li>In .java file that <strong>use</strong> your data structure, specify desired type <strong>once</strong>:<br>
– Write out desired type during <strong>declaration.</strong><br>
– Use the empty diamond operator &lt;&gt; during <strong>instantiation</strong>.</li>
<li>When declaring or instantiating your data structure, use the reference type.<br>
– int: Integer<br>
– double: Double<br>
– char: Character<br>
– boolean: Boolean<br>
– long: Long</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/24/CS61b-SLLists/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Starfly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Starfly's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/24/CS61b-SLLists/" itemprop="url">CS61b-SLLists</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-24T02:43:29+08:00">
                2020-02-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithms</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2><span id="sllists"> SLLists</span><a href="#sllists" class="header-anchor"> </a></h2>
<p>In practice, <em>IntList</em> suffers from the fact that it is fairly awkward to use, resulting in code that is hard to read and maintain.</p>
<p>Fundamentally, the issue is that the <em>IntList</em> a <strong>naked recursive</strong> data structure.</p>
<p>We now build a new class <em>SLList</em>, which much more closely resembles the list implementations that programmers use in mordern languages. We’ll do so by iteratively adding a sequence of improvements.</p>
<h3><span id="improvement-1-rebranding"> Improvement 1: Rebranding</span><a href="#improvement-1-rebranding" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntList</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> first;</span><br><span class="line">    <span class="keyword">public</span> IntList rest;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IntList</span><span class="params">(<span class="keyword">int</span> f, IntList r)</span> </span>&#123;</span><br><span class="line">        first = f;</span><br><span class="line">        rest = r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>While functional, “naked” linked lists like the one above are hard to use.</p>
<ul>
<li>Users of this class are probably going to need to know references very well, and be able to think recursively. Let’s make our users’ lives easier.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> item;</span><br><span class="line">    <span class="keyword">public</span> IntNode next;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IntNode</span><span class="params">(<span class="keyword">int</span> i, IntNode n)</span> </span>&#123;</span><br><span class="line">        item = i;</span><br><span class="line">        next = n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="improvement-2-bureaucracy"> Improvement 2: Bureaucracy</span><a href="#improvement-2-bureaucracy" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** An SLList is a list of integers, which hides the terrible truth of the nakedness within.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> IntNode first;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        first = <span class="keyword">new</span> IntNode(x, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/* Creates a list of interger, namely 10*/</span></span><br><span class="line">        SLList L = <span class="keyword">new</span> SLList(<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Already, we can get a vague sense of why a <em>SLList</em> is better. Compare the creation of an <em>IntList</em> of one item to the creation of a <em>SLList</em> of one item.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">IntList L1 = <span class="keyword">new</span> IntList(<span class="number">5</span>, <span class="keyword">null</span>);</span><br><span class="line">SLList L2 = <span class="keyword">new</span> SLList(<span class="number">5</span>);</span><br></pre></td></tr></table></figure>
<p>The <em>SLList</em> hides the detail that there exists a null link from the user. The <em>SLList</em> class isn’t very useful yet, so let’s add an <em>addFirst</em> and <em>getFirst</em> method as simple warmup methods.</p>
<h3><span id="addfirst-and-getfirst"> addFirst and getFirst</span><a href="#addfirst-and-getfirst" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** An SLList is a list of integers, which hides the terrible truth of the nakedness within.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> IntNode first;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        first = <span class="keyword">new</span> IntNode(x, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Adds x to the front of this IntList. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        first = <span class="keyword">new</span> IntNode(x, first);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns the first item in the list. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getFirst</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> first.item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/* Creates a list of interger, namely 10*/</span></span><br><span class="line">        SLList L = <span class="keyword">new</span> SLList(<span class="number">10</span>);</span><br><span class="line">        L.addFirst(<span class="number">10</span>);</span><br><span class="line">        <span class="keyword">int</span> x = L.getFirst();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>IntLists vs. SLLists</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SLList L = <span class="keyword">new</span> SLList(<span class="number">15</span>);</span><br><span class="line">L.addFirst(<span class="number">10</span>);</span><br><span class="line">L.addFirst(<span class="number">5</span>);</span><br><span class="line"><span class="keyword">int</span> x = L.getFirst();</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">IntList L = <span class="keyword">new</span> IntList(<span class="number">15</span>, <span class="keyword">null</span>);</span><br><span class="line">L = <span class="keyword">new</span> IntList(L, <span class="number">10</span>);</span><br><span class="line">L = <span class="keyword">new</span> IntList(L, <span class="number">5</span>);</span><br><span class="line"><span class="keyword">int</span> x = L.first;</span><br></pre></td></tr></table></figure>
<p>While functional, “naked” linked lists like the <em>IntList</em> class are hard to use.</p>
<ul>
<li>Users of <em>IntList</em> are need to know Java references well, and be able to think recursively.</li>
<li><em>SLList</em> is much simpler to use. Simply use the provided methods.</li>
</ul>
<p>Essentially, the <em>SLList</em> class acts as a middleman between the list user and the naked recursive data structure.</p>
<h3><span id="improvement-3-public-vs-private"> Improvement 3: Public vs. Private</span><a href="#improvement-3-public-vs-private" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** An SLList is a list of integers, which hides the terrible truth of the nakedness within.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> IntNode first;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Why Restrict Access?</strong><br>
Hide implementation details from users of your class.</p>
<ul>
<li>Less for user of class to understand.</li>
<li>Safe for you to change private methods (implementaion).</li>
</ul>
<p>Car analogy:</p>
<ul>
<li>Public: Pedals, Steering Wheel</li>
<li>Private: Fuel line, Rotary valve</li>
</ul>
<p>In large software engineering projects, the <em>private</em> keyword is an invaluable signal that certain pieces of code should be ignored (and thus need not to be understood) by the end user. Likewise, the <em>public</em> keyword should be thought of as a declaration that a method is available and will work forever exactly as it does now.</p>
<h3><span id="improvement-4-nested-classes"> Improvement 4: Nested Classes</span><a href="#improvement-4-nested-classes" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** An SLList is a list of integers, which hides the terrible truth of the nakedness within.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> item;</span><br><span class="line">        <span class="keyword">public</span> IntNode next;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">IntNode</span><span class="params">(<span class="keyword">int</span> i, IntNode n)</span> </span>&#123;</span><br><span class="line">            item = i;</span><br><span class="line">            next = n;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> IntNode first;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Why Nested Classes?</strong><br>
Nested Classes are useful when a class doesn’t stand on its own and is obviously subordinate to another class.</p>
<ul>
<li>Make the nested class private if other classes should never use the nested class.</li>
</ul>
<p>In my opinion, probably makes senses to make <em>IntNode</em> a nested private class.</p>
<ul>
<li>Hard to imagine other classes having a need to manipulate <em>IntNodes</em>.</li>
</ul>
<h3><span id="addlast-and-size"> addLast() and size()</span><a href="#addlast-and-size" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Adds an item to the end of the list*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    IntList p = first;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Move p until it reaches the end of list. */</span></span><br><span class="line">    <span class="keyword">while</span> (p.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">        p = p.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    p.next = <span class="keyword">new</span> IntNode(x, <span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Returns the size of the list that starts at IntNode p. */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">(IntNode p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + size(p.next);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> size(first);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="improvement-5-caching"> Improvement 5. Caching</span><a href="#improvement-5-caching" class="header-anchor"> </a></h3>
<p>Goal: Modify SLList so that the execution time of <em>size()</em> is always fast(i.e. independent of the size of the list).</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** An SLList is a list of integers, which hides the terrible truth of the nakedness within.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> item;</span><br><span class="line">        <span class="keyword">public</span> IntNode next;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">IntNode</span><span class="params">(<span class="keyword">int</span> i, IntNode n)</span> </span>&#123;</span><br><span class="line">            item = i;</span><br><span class="line">            next = n;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> IntNode first;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        first = <span class="keyword">new</span> IntNode(x, <span class="keyword">null</span>);</span><br><span class="line">        size = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Adds x to the front of this IntList. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        first = <span class="keyword">new</span> IntNode(x, first);</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns the first item in the list. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getFirst</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> first.item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Adds an item to the end of the list*/</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        IntList p = first;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Move p until it reaches the end of list. */</span></span><br><span class="line">        <span class="keyword">while</span> (p.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            p = p.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        p.next = <span class="keyword">new</span> IntNode(x, <span class="keyword">null</span>);</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Solution: Maintain a special size variable that <strong>caches</strong> the size of the list.</p>
<ul>
<li>Caching: putting aside data to speed up retrieval.</li>
</ul>
<p>TANSTAAFL: There aren’t no such thing as a free lunch.</p>
<ul>
<li>But spreading the work over each add call is a new win in almost any circumstance.</li>
</ul>
<h3><span id="improvement-6a-the-empty-list"> Improvement 6a: The Empty List</span><a href="#improvement-6a-the-empty-list" class="header-anchor"> </a></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** An SLList is a list of integers, which hides the terrible truth of the nakedness within.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> item;</span><br><span class="line">        <span class="keyword">public</span> IntNode next;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">IntNode</span><span class="params">(<span class="keyword">int</span> i, IntNode n)</span> </span>&#123;</span><br><span class="line">            item = i;</span><br><span class="line">            next = n;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> IntNode first;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        first = <span class="keyword">null</span>;</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        first = <span class="keyword">new</span> IntNode(x, <span class="keyword">null</span>);</span><br><span class="line">        size = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">/** Adds an item to the end of the list*/</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        IntList p = first;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Move p until it reaches the end of list. */</span></span><br><span class="line">        <span class="keyword">while</span> (p.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            p = p.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        p.next = <span class="keyword">new</span> IntNode(x, <span class="keyword">null</span>);</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>But now, the method <em>addLast()</em> has a nullPointerException bug when first == null.</p>
<h3><span id="improvement-6b-sentinel-nodes"> Improvement 6b: Sentinel Nodes</span><a href="#improvement-6b-sentinel-nodes" class="header-anchor"> </a></h3>
<p>We can fix by using <em>if</em> syntax, but that’s a little bit ugly:</p>
<ul>
<li>Requires a special case.</li>
<li>More complex data structures will have many more special cases.</li>
</ul>
<p>The fundamental problem:</p>
<ul>
<li>The empty list has a null <em>first</em>. Can’t access <em>first.next</em>.<br>
How can we avoid special cases?</li>
<li>Make all <em>SLLists</em> (even empty) the ‘same’.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** An SLList is a list of integers, which hides the terrible truth of the nakedness within.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> item;</span><br><span class="line">        <span class="keyword">public</span> IntNode next;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">IntNode</span><span class="params">(<span class="keyword">int</span> i, IntNode n)</span> </span>&#123;</span><br><span class="line">            item = i;</span><br><span class="line">            next = n;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* The first item (if it exists) is at sentinel.next) */</span></span><br><span class="line">    <span class="keyword">public</span> IntNode sentinel;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        sentinel = <span class="keyword">new</span> IntNode(<span class="number">63</span>, <span class="keyword">null</span>);</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        SLList();</span><br><span class="line">        sentinel.next = <span class="keyword">new</span> IntNode(x, <span class="keyword">null</span>);</span><br><span class="line">        size = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Adds x to the front of this IntList. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        sentinel.next = <span class="keyword">new</span> IntNode(x, sentinel.next);</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns the first item in the list. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getFirst</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sentinel.next.item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Adds an item to the end of the list*/</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        IntList p = sentinel;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Move p until it reaches the end of list. */</span></span><br><span class="line">        <span class="keyword">while</span> (p.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            p = p.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        p.next = <span class="keyword">new</span> IntNode(x, <span class="keyword">null</span>);</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Notes:</p>
<ul>
<li>Rename first to be sentinel.</li>
<li>Sentinel is never null, always points to sentinel node.</li>
<li>Sentinel node’s item needs to be some integer, but doesn’t matter what value we pick.</li>
<li>Had to fix constructors and methods to be compatible with sentinel nodes.</li>
</ul>
<p>Bottom line: Having a sentinel simplifies our addLast method.</p>
<ul>
<li>No need for a special case to check if sentinel is <em>null</em>(since it is never <em>null</em>).</li>
</ul>
<h3><span id="invariants"> Invariants</span><a href="#invariants" class="header-anchor"> </a></h3>
<p>An invariants is a condition that is guaranteed to be true during code execuation (assuming there are no bugs in your code).</p>
<p>An SLList with a sentinel node has at least the following invariants:</p>
<ul>
<li>The sentinel reference always points to a sentinel node.</li>
<li>The first node(if it exists), is always at sentinel.next.</li>
<li>The size variable is always the total number of items that have been added.</li>
</ul>
<p>Invariants makeit easier to reason about code:</p>
<ul>
<li>Can assume they are true to simplify code (e.g. addLast doesn’t need to worry about nulls).</li>
<li>Must ensure that methods preserve invariants.</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/4/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Starfly</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">54</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Starfly</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.staticfile.org/MathJax/MathJax-2.6-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
